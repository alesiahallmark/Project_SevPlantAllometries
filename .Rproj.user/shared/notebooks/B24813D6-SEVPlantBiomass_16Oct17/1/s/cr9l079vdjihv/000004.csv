"0","# Read in species' taxonomy data"
"0","taxo <- read.csv(""/Users/alesia/Documents/Project_SevPublicPlantRCode/SevilletaSpeciesList_AJH.csv"", strip.white = T)"
"0","# Revalue a_p and g_f columns"
"0","taxo$a_p <- revalue(taxo$a_p, c("
"0","  ""a"" = ""annual"","
"0","  ""p"" = ""perennial"","
"0","  ""a/p"" = ""annual/perennial""))"
"0","taxo$g_f <- revalue(taxo$g_f, c("
"0","  ""f"" = ""forb"","
"0","  ""t"" = ""tree"", "
"0","  ""g"" = ""grass"","
"0","  ""s"" = ""shrub""))"
"0","# Merge taxonomy file onto other two datasets"
"0","dest.harv.extend <- merge(dest.harv.extend, taxo[,c(""kartez"", ""family"", ""genus"", ""species"", ""path"", ""a_p"", ""g_f"")], by=""kartez"", all.x=T)"
"0","allquadNPP <- merge(allquadNPP, taxo[,c(""kartez"", ""family"", ""genus"", ""species"", ""path"", ""a_p"", ""g_f"")], by=""kartez"", all.x=T)"
"0","# Find species in the destructive harvest file that are not in the taxo file"
"0","dest.sp.err <- unique(dest.harv.extend$kartez[!dest.harv.extend$kartez %in% taxo$kartez])"
"0","# Exclude unknown species"
"0","dest.harv.extend <- dest.harv.extend[!dest.harv.extend$kartez %in% c(""FORB1"", ""UKFO10"", ""UKFO13"", ""UKFO17"", ""UKFO18"", ""UKFO75"", ""UKFO80"", ""UKSH5""),]"
"0","# Exclude woody species. Need to be treated separately"
"0","dest.harv.extend <- dest.harv.extend[!dest.harv.extend$kartez %in% c(""LATR2F"", ""LATR2L"", ""LATR2T"", ""LATR2W"", ""QUTU2B"", ""YUBAC"", ""YUBAL""),]"
"0","#dest.harv.extend[dest.harv.extend$kartez == ""MUPA"",]"
"0","#allquadNPP[allquadNPP$kartez == ""MUPA2"",]"
"0","# Correct typos"
"0","dest.harv.extend$kartez <- revalue(dest.harv.extend$kartez, c("
"0","  ""CHLA2"" = ""CHAL11"", #guess based on cover/height/presence in other datasets"
"0","  ""CHST"" = ""CHST8"", #these don't even have heights"
"0","  ""DIW12"" = ""DIWI2"","
"0","  ""MUPA"" = ""MUPA2"","
"0","  ""SPOR"" = ""SPORO""))"
"0","# Update old species names"
"0","dest.harv.extend$kartez <- revalue(dest.harv.extend$kartez, c("
"0","  ""MOSQ"" = ""MUSQ3"","
"0","  ""OPCL"" = ""GRCL"","
"0","  ""OPIM"" = ""CYIMI"","
"0","  ""STNE2"" = ""HENE5""))"
"0","# I don't know what these species are. exclude for now"
"0","dest.harv.extend <- dest.harv.extend[!dest.harv.extend$kartez %in% c(""PF3"", ""POAC6""),]"
"0","# Find species in the all quad NPP file that are not in the taxo file"
"0","allquad.sp.err <- unique(allquadNPP$kartez[!allquadNPP$kartez %in% taxo$kartez])"
"0","#unique(allquadNPP[allquadNPP$kartez == ""STEM"" &"
"0","#                         allquadNPP$site == ""C"",])"
"0","# I don't know what these species are. exclude for now"
"0","allquadNPP <- allquadNPP[!allquadNPP$kartez %in% c(""STEM""),]"
